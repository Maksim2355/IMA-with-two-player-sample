# IMA-with-two-player-sample
Пример использование IMA SDK вместе с ExoPlayer не используя ExoPlayer-ad

Данный проект представляет собой пример интеграции рекламы с использованием ExoPlayer не без AdExtension

Используется два плеера. Один для отображения рекламы, а другой для отображения контента

## Механизм работы с рекламой

1. Отслеживаем моменты когда стоит проиграть рекламу
2. Выполняем запрос по рекламному тегу используя IMA sdk. Скрываем весь пользовательский интерфейс основного контента плеера.
3. Обрабатываем ответ от IMA sdk и показываем рекламу
4. После того как одна реклама завершилась, выполняем следующий запрос.

## Зачем необходим такой алгоритм? Нельзя ли использовать VMAP

В случае если нам надо распарсить ответ рекламного тега и VAST файла.

## С точки зрения IMA sdk у нас нет рекламного блока. Просто мы игнорируем некоторые события(Такие как ALL_ADS_COMPLETE, RESUME_REQUESTED, ...) если у нас еще остались рекламные блоки. Можно ли пофиксить?

Трудно сказать. Скорее всего IMA не заточена под такой алгоритм. Т.е нам надо завершить рекламный блок из одной рекламы перед запросом следующего

## У меня остались вопросы. Вы же хорошо разбираетесь в IMA?

Нет, но можете написать мне в телегу. Ссылка на главной странице моего гитхаба


## Видео работы


https://github.com/user-attachments/assets/2a1ecec8-76ce-4b61-b8c1-edfd8c5fedf5



